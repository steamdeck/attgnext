(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7581],{3306:(e,n,a)=>{Promise.resolve().then(a.bind(a,9006))},9006:(e,n,a)=>{"use strict";a.r(n),a.d(n,{default:()=>c});var r=a(5155),s=a(2115),i=a(5695),t=a(9323),l=a(6874),o=a.n(l);function m(){let e=(0,i.usePathname)();return(0,r.jsx)("aside",{className:"w-64 bg-white shadow-sm h-screen sticky top-0",children:(0,r.jsx)("nav",{className:"mt-6",children:(0,r.jsx)("ul",{className:"space-y-2 px-4",children:[{name:"Dashboard",href:"/admin/dashboard",icon:"\uD83D\uDCCA"},{name:"Users",href:"/admin/users",icon:"\uD83D\uDC65"},{name:"Content",href:"/admin/content",icon:"\uD83D\uDCDD"},{name:"Services",href:"/admin/services",icon:"⚙️"},{name:"Projects",href:"/admin/projects",icon:"\uD83D\uDE80"},{name:"Blog",href:"/admin/blog",icon:"\uD83D\uDCF0"},{name:"Settings",href:"/admin/settings",icon:"⚙️"}].map(n=>(0,r.jsx)("li",{children:(0,r.jsxs)(o(),{href:n.href,className:"flex items-center px-4 py-2 text-sm font-medium rounded-md transition-colors ".concat(e===n.href?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"),children:[(0,r.jsx)("span",{className:"mr-3 text-lg",children:n.icon}),n.name]})},n.name))})})})}function d(e){let{user:n,onLogout:a}=e;return(0,r.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,r.jsx)("div",{className:"px-6 py-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Dashboard"})}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("div",{className:"text-sm text-gray-700",children:["Welcome, ",(0,r.jsx)("span",{className:"font-medium",children:null==n?void 0:n.email})]}),(0,r.jsx)("div",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:null==n?void 0:n.role}),(0,r.jsx)("button",{onClick:a,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"Logout"})]})]})})})}function c(e){let{children:n}=e,[a,l]=(0,s.useState)(null),[o,c]=(0,s.useState)(!0),h=(0,i.useRouter)(),u=(0,i.usePathname)();return((0,s.useEffect)(()=>{if("/admin/login"===u)return void c(!1);(()=>{let e=localStorage.getItem("admin_token"),n=localStorage.getItem("admin_user");if(!e||!n)return h.push("/admin/login");try{let n=(0,t.nr)(e);n?l(n):(localStorage.removeItem("admin_token"),localStorage.removeItem("admin_user"),h.push("/admin/login"))}catch(e){localStorage.removeItem("admin_token"),localStorage.removeItem("admin_user"),h.push("/admin/login")}finally{c(!1)}})()},[h,u]),"/admin/login"===u)?(0,r.jsx)(r.Fragment,{children:n}):o?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600"})}):(0,r.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,r.jsx)(d,{user:a,onLogout:()=>{localStorage.removeItem("admin_token"),localStorage.removeItem("admin_user"),h.push("/admin/login")}}),(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)(m,{}),(0,r.jsx)("main",{className:"flex-1 p-6",children:n})]})]})}},9323:(e,n,a)=>{"use strict";a.d(n,{bS:()=>m,nr:()=>o}),a(9980);var r=a(8801),s=a.n(r),i=a(9509);let t={email:"admin@digitom.com",password:"admin123",role:"super_admin"},l=i.env.JWT_SECRET||"your-secret-key-change-in-production";function o(e){try{let n=s().verify(e,l);return{id:n.id,email:n.email,role:n.role}}catch(e){return null}}function m(e){let{email:n,password:a}=e;if(n===t.email&&a===t.password){let e={id:"1",email:t.email,role:t.role},n=s().sign({id:e.id,email:e.email,role:e.role},l,{expiresIn:"24h"});return{user:e,token:n}}return null}},9825:()=>{}},e=>{var n=n=>e(e.s=n);e.O(0,[9268,6874,3877,8441,1684,7358],()=>n(3306)),_N_E=e.O()}]);