{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 71, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Dell/Desktop/digitomreact-10/digitom-nextjs/src/lib/auth.ts"],"sourcesContent":["import bcrypt from 'bcryptjs'\r\nimport jwt from 'jsonwebtoken'\r\n\r\n// Admin credentials (in production, store these in environment variables)\r\nconst ADMIN_CREDENTIALS = {\r\n  email: 'admin@digitom.com',\r\n  password: 'admin123', // In production, use a strong password\r\n  role: 'super_admin'\r\n}\r\n\r\nconst JWT_SECRET = process.env.JWT_SECRET || 'your-secret-key-change-in-production'\r\n\r\nexport interface AdminUser {\r\n  id: string\r\n  email: string\r\n  role: string\r\n}\r\n\r\nexport interface LoginCredentials {\r\n  email: string\r\n  password: string\r\n}\r\n\r\n// Hash password (for initial setup)\r\nexport function hashPassword(password: string): string {\r\n  return bcrypt.hashSync(password, 10)\r\n}\r\n\r\n// Verify password\r\nexport function verifyPassword(password: string, hash: string): boolean {\r\n  return bcrypt.compareSync(password, hash)\r\n}\r\n\r\n// Generate JWT token\r\nexport function generateToken(user: AdminUser): string {\r\n  return jwt.sign(\r\n    { \r\n      id: user.id, \r\n      email: user.email, \r\n      role: user.role \r\n    },\r\n    JWT_SECRET,\r\n    { expiresIn: '24h' }\r\n  )\r\n}\r\n\r\n// Verify JWT token\r\nexport function verifyToken(token: string): AdminUser | null {\r\n  try {\r\n    const decoded = jwt.verify(token, JWT_SECRET) as any\r\n    return {\r\n      id: decoded.id,\r\n      email: decoded.email,\r\n      role: decoded.role\r\n    }\r\n  } catch (error) {\r\n    return null\r\n  }\r\n}\r\n\r\n// Authenticate admin user\r\nexport function authenticateAdmin(credentials: LoginCredentials): { user: AdminUser; token: string } | null {\r\n  const { email, password } = credentials\r\n  \r\n  // Check credentials\r\n  if (email === ADMIN_CREDENTIALS.email && password === ADMIN_CREDENTIALS.password) {\r\n    const user: AdminUser = {\r\n      id: '1',\r\n      email: ADMIN_CREDENTIALS.email,\r\n      role: ADMIN_CREDENTIALS.role\r\n    }\r\n    \r\n    const token = generateToken(user)\r\n    \r\n    return { user, token }\r\n  }\r\n  \r\n  return null\r\n}\r\n\r\n// Check if user is admin\r\nexport function isAdmin(user: AdminUser | null): boolean {\r\n  return user?.role === 'super_admin' || user?.role === 'admin'\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;;;AAEA,0EAA0E;AAC1E,MAAM,oBAAoB;IACxB,OAAO;IACP,UAAU;IACV,MAAM;AACR;AAEA,MAAM,aAAa,QAAQ,GAAG,CAAC,UAAU,IAAI;AActC,SAAS,aAAa,QAAgB;IAC3C,OAAO,iIAAA,CAAA,UAAM,CAAC,QAAQ,CAAC,UAAU;AACnC;AAGO,SAAS,eAAe,QAAgB,EAAE,IAAY;IAC3D,OAAO,iIAAA,CAAA,UAAM,CAAC,WAAW,CAAC,UAAU;AACtC;AAGO,SAAS,cAAc,IAAe;IAC3C,OAAO,qIAAA,CAAA,UAAG,CAAC,IAAI,CACb;QACE,IAAI,KAAK,EAAE;QACX,OAAO,KAAK,KAAK;QACjB,MAAM,KAAK,IAAI;IACjB,GACA,YACA;QAAE,WAAW;IAAM;AAEvB;AAGO,SAAS,YAAY,KAAa;IACvC,IAAI;QACF,MAAM,UAAU,qIAAA,CAAA,UAAG,CAAC,MAAM,CAAC,OAAO;QAClC,OAAO;YACL,IAAI,QAAQ,EAAE;YACd,OAAO,QAAQ,KAAK;YACpB,MAAM,QAAQ,IAAI;QACpB;IACF,EAAE,OAAO,OAAO;QACd,OAAO;IACT;AACF;AAGO,SAAS,kBAAkB,WAA6B;IAC7D,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG;IAE5B,oBAAoB;IACpB,IAAI,UAAU,kBAAkB,KAAK,IAAI,aAAa,kBAAkB,QAAQ,EAAE;QAChF,MAAM,OAAkB;YACtB,IAAI;YACJ,OAAO,kBAAkB,KAAK;YAC9B,MAAM,kBAAkB,IAAI;QAC9B;QAEA,MAAM,QAAQ,cAAc;QAE5B,OAAO;YAAE;YAAM;QAAM;IACvB;IAEA,OAAO;AACT;AAGO,SAAS,QAAQ,IAAsB;IAC5C,OAAO,MAAM,SAAS,iBAAiB,MAAM,SAAS;AACxD","debugId":null}},
    {"offset": {"line": 143, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Dell/Desktop/digitomreact-10/digitom-nextjs/src/app/Components/Admin/AdminSidebar.tsx"],"sourcesContent":["'use client'\r\n\r\nimport Link from 'next/link'\r\nimport { usePathname } from 'next/navigation'\r\n\r\nexport default function AdminSidebar() {\r\n  const pathname = usePathname()\r\n\r\n  const menuItems = [\r\n    {\r\n      name: 'Dashboard',\r\n      href: '/admin/dashboard',\r\n      icon: 'üìä'\r\n    },\r\n    {\r\n      name: 'Users',\r\n      href: '/admin/users',\r\n      icon: 'üë•'\r\n    },\r\n    {\r\n      name: 'Content',\r\n      href: '/admin/content',\r\n      icon: 'üìù'\r\n    },\r\n    {\r\n      name: 'Services',\r\n      href: '/admin/services',\r\n      icon: '‚öôÔ∏è'\r\n    },\r\n    {\r\n      name: 'Projects',\r\n      href: '/admin/projects',\r\n      icon: 'üöÄ'\r\n    },\r\n    {\r\n      name: 'Blog',\r\n      href: '/admin/blog',\r\n      icon: 'üì∞'\r\n    },\r\n    {\r\n      name: 'Settings',\r\n      href: '/admin/settings',\r\n      icon: '‚öôÔ∏è'\r\n    }\r\n  ]\r\n\r\n  return (\r\n    <aside className=\"w-64 bg-white shadow-sm h-screen sticky top-0\">\r\n      <nav className=\"mt-6\">\r\n        <ul className=\"space-y-2 px-4\">\r\n          {menuItems.map((item) => (\r\n            <li key={item.name}>\r\n              <Link\r\n                href={item.href}\r\n                className={`flex items-center px-4 py-2 text-sm font-medium rounded-md transition-colors ${\r\n                  pathname === item.href\r\n                    ? 'bg-indigo-100 text-indigo-700'\r\n                    : 'text-gray-600 hover:bg-gray-50 hover:text-gray-900'\r\n                }`}\r\n              >\r\n                <span className=\"mr-3 text-lg\">{item.icon}</span>\r\n                {item.name}\r\n              </Link>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </nav>\r\n    </aside>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;;AAKe,SAAS;IACtB,MAAM,WAAW,CAAA,GAAA,kIAAA,CAAA,cAAW,AAAD;IAE3B,MAAM,YAAY;QAChB;YACE,MAAM;YACN,MAAM;YACN,MAAM;QACR;QACA;YACE,MAAM;YACN,MAAM;YACN,MAAM;QACR;QACA;YACE,MAAM;YACN,MAAM;YACN,MAAM;QACR;QACA;YACE,MAAM;YACN,MAAM;YACN,MAAM;QACR;QACA;YACE,MAAM;YACN,MAAM;YACN,MAAM;QACR;QACA;YACE,MAAM;YACN,MAAM;YACN,MAAM;QACR;QACA;YACE,MAAM;YACN,MAAM;YACN,MAAM;QACR;KACD;IAED,qBACE,8OAAC;QAAM,WAAU;kBACf,cAAA,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAG,WAAU;0BACX,UAAU,GAAG,CAAC,CAAC,qBACd,8OAAC;kCACC,cAAA,8OAAC,4JAAA,CAAA,UAAI;4BACH,MAAM,KAAK,IAAI;4BACf,WAAW,CAAC,6EAA6E,EACvF,aAAa,KAAK,IAAI,GAClB,kCACA,sDACJ;;8CAEF,8OAAC;oCAAK,WAAU;8CAAgB,KAAK,IAAI;;;;;;gCACxC,KAAK,IAAI;;;;;;;uBAVL,KAAK,IAAI;;;;;;;;;;;;;;;;;;;;AAkB9B","debugId":null}},
    {"offset": {"line": 245, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Dell/Desktop/digitomreact-10/digitom-nextjs/src/app/Components/Admin/AdminHeader.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { AdminUser } from '../../../lib/auth'\r\n\r\ninterface AdminHeaderProps {\r\n  user: AdminUser | null\r\n  onLogout: () => void\r\n}\r\n\r\nexport default function AdminHeader({ user, onLogout }: AdminHeaderProps) {\r\n  return (\r\n    <header className=\"bg-white shadow-sm border-b border-gray-200\">\r\n      <div className=\"px-6 py-4\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"flex items-center\">\r\n            <h1 className=\"text-2xl font-bold text-gray-900\">Admin Dashboard</h1>\r\n          </div>\r\n          \r\n          <div className=\"flex items-center space-x-4\">\r\n            <div className=\"text-sm text-gray-700\">\r\n              Welcome, <span className=\"font-medium\">{user?.email}</span>\r\n            </div>\r\n            <div className=\"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded\">\r\n              {user?.role}\r\n            </div>\r\n            <button\r\n              onClick={onLogout}\r\n              className=\"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors\"\r\n            >\r\n              Logout\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AASe,SAAS,YAAY,EAAE,IAAI,EAAE,QAAQ,EAAoB;IACtE,qBACE,8OAAC;QAAO,WAAU;kBAChB,cAAA,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAG,WAAU;sCAAmC;;;;;;;;;;;kCAGnD,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;oCAAwB;kDAC5B,8OAAC;wCAAK,WAAU;kDAAe,MAAM;;;;;;;;;;;;0CAEhD,8OAAC;gCAAI,WAAU;0CACZ,MAAM;;;;;;0CAET,8OAAC;gCACC,SAAS;gCACT,WAAU;0CACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQb","debugId":null}},
    {"offset": {"line": 341, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Dell/Desktop/digitomreact-10/digitom-nextjs/src/app/admin/layout.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useState } from 'react'\r\nimport { useRouter, usePathname } from 'next/navigation'\r\nimport { verifyToken, AdminUser } from '../../lib/auth'\r\nimport AdminSidebar from '../Components/Admin/AdminSidebar'\r\nimport AdminHeader from '../Components/Admin/AdminHeader'\r\n\r\nexport default function AdminLayout({\r\n  children,\r\n}: {\r\n  children: React.ReactNode\r\n}) {\r\n  const [user, setUser] = useState<AdminUser | null>(null)\r\n  const [loading, setLoading] = useState(true)\r\n  const router = useRouter()\r\n  const pathname = usePathname()\r\n\r\n  useEffect(() => {\r\n    // Don't check auth for login page\r\n    if (pathname === '/admin/login') {\r\n      setLoading(false)\r\n      return\r\n    }\r\n\r\n    const checkAuth = () => {\r\n      const token = localStorage.getItem('admin_token')\r\n      const userData = localStorage.getItem('admin_user')\r\n\r\n      if (!token || !userData) {\r\n        router.push('/admin/login')\r\n        return\r\n      }\r\n\r\n      try {\r\n        const verifiedUser = verifyToken(token)\r\n        if (verifiedUser) {\r\n          setUser(verifiedUser)\r\n        } else {\r\n          localStorage.removeItem('admin_token')\r\n          localStorage.removeItem('admin_user')\r\n          router.push('/admin/login')\r\n        }\r\n      } catch (error) {\r\n        localStorage.removeItem('admin_token')\r\n        localStorage.removeItem('admin_user')\r\n        router.push('/admin/login')\r\n      } finally {\r\n        setLoading(false)\r\n      }\r\n    }\r\n\r\n    checkAuth()\r\n  }, [router, pathname])\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('admin_token')\r\n    localStorage.removeItem('admin_user')\r\n    router.push('/admin/login')\r\n  }\r\n\r\n  // Don't apply admin layout to login page\r\n  if (pathname === '/admin/login') {\r\n    return <>{children}</>\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600\"></div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-100\">\r\n      <AdminHeader user={user} onLogout={handleLogout} />\r\n      <div className=\"flex\">\r\n        <AdminSidebar />\r\n        <main className=\"flex-1 p-6\">\r\n          {children}\r\n        </main>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAQe,SAAS,YAAY,EAClC,QAAQ,EAGT;IACC,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAoB;IACnD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,WAAW,CAAA,GAAA,kIAAA,CAAA,cAAW,AAAD;IAE3B,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,kCAAkC;QAClC,IAAI,aAAa,gBAAgB;YAC/B,WAAW;YACX;QACF;QAEA,MAAM,YAAY;YAChB,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,MAAM,WAAW,aAAa,OAAO,CAAC;YAEtC,IAAI,CAAC,SAAS,CAAC,UAAU;gBACvB,OAAO,IAAI,CAAC;gBACZ;YACF;YAEA,IAAI;gBACF,MAAM,eAAe,CAAA,GAAA,kHAAA,CAAA,cAAW,AAAD,EAAE;gBACjC,IAAI,cAAc;oBAChB,QAAQ;gBACV,OAAO;oBACL,aAAa,UAAU,CAAC;oBACxB,aAAa,UAAU,CAAC;oBACxB,OAAO,IAAI,CAAC;gBACd;YACF,EAAE,OAAO,OAAO;gBACd,aAAa,UAAU,CAAC;gBACxB,aAAa,UAAU,CAAC;gBACxB,OAAO,IAAI,CAAC;YACd,SAAU;gBACR,WAAW;YACb;QACF;QAEA;IACF,GAAG;QAAC;QAAQ;KAAS;IAErB,MAAM,eAAe;QACnB,aAAa,UAAU,CAAC;QACxB,aAAa,UAAU,CAAC;QACxB,OAAO,IAAI,CAAC;IACd;IAEA,yCAAyC;IACzC,IAAI,aAAa,gBAAgB;QAC/B,qBAAO;sBAAG;;IACZ;IAEA,IAAI,SAAS;QACX,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;;;;;;;;;;IAGrB;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,iJAAA,CAAA,UAAW;gBAAC,MAAM;gBAAM,UAAU;;;;;;0BACnC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,kJAAA,CAAA,UAAY;;;;;kCACb,8OAAC;wBAAK,WAAU;kCACb;;;;;;;;;;;;;;;;;;AAKX","debugId":null}}]
}